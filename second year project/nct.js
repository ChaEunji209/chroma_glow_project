/* ----------  micro colour-name helper  ---------- */
const microMap = {
emeraldgreen:"#50C878",
sapphire:"#0F52BA",
blue:"#0000FF",
rubyred:"#9B111E",
amethyst:"#9966CC",
purple:"#800080",
powderblue:"#B0E0E6",
blushpink:"#FFC0CB",
mintgreen:"#98FF98",
lavender:"#E6E6FA",
navyblue:"#000080",
softgray:"#D3D3D3",
cream:"#FFFDD0",
camel:"#C19A6B",
lightteal:"#20B2AA",
jadegreen:"#00A86B",
royalblue:"#4169E1",
teal:"#008080",
forestgreen:"#228B22",
teallavender:"#B57EDC",
plum:"#8E4585",
charcoalgrey:"#36454F",
black:"#000000",
amethystpurple:"#9966CC",
burgundyplum:"#580F41",
khaki:"#F0E68C",
mutedyellow:"#FAFAD2",
peach:"#FFE5B4",
coral:"#FF7F50",
mustard:"#FFDB58",
honey:"#FFC30B",
olive:"#808000",
gold:"#FFD700",
orange:"#FFA500",
warmred:"#E34234",
terracotta:"#E2725B",
taupe:"#483C32",
oatmealbeige:"#D6C6B9",
turquoise:"#40E0D0",
beige:"#F5F5DC",
richred:"#8B0000",
brightyellow:"#FFFF00",
rust:"#B7410E",
poppyred:"#E53E3E",
cranberry:"#9E003A",
ivory:"#FFFFF0",
offwhite:"#F8F8F8",
magenta:"#FF00FF",
eggplant:"#614051",
cinnamon:"#A0522D",
deeppurple:"#301934",
bronze:"#CD7F32",
copper:"#B87333",
ochre:"#CC7722",
crispwhite:"#FFFFFF",
mutedredviolet:"#BB0A1E",
coralpink:"#F88379",
tomatored:"#FF6347",
truered:"#FF0000",
emeraldgreen:"#50C878",
sapphire:"#0F52BA",
blue:"#0000FF",
rubyred:"#9B111E",
amethyst:"#9966CC",
purple:"#800080",
powderblue:"#B0E0E6",
blushpink:"#FFC0CB",
mintgreen:"#98FF98",
lavender:"#E6E6FA",
navyblue:"#000080",
softgray:"#D3D3D3",
cream:"#FFFDD0",
camel:"#C19A6B",
lightteal:"#20B2AA",
jadegreen:"#00A86B",
royalblue:"#4169E1",
teal:"#008080",
forestgreen:"#228B22",
teallavender:"#B57EDC",
plum:"#8E4585",
charcoalgrey:"#36454F",
black:"#000000",
amethystpurple:"#9966CC",
burgundyplum:"#580F41",
khaki:"#F0E68C",
mutedyellow:"#FAFAD2",
peach:"#FFE5B4",
coral:"#FF7F50",
mustard:"#FFDB58",
honey:"#FFC30B",
olive:"#808000",
gold:"#FFD700",
orange:"#FFA500",
warmred:"#E34234",
terracotta:"#E2725B",
taupe:"#483C32",
oatmealbeige:"#D6C6B9",
turquoise:"#40E0D0",
beige:"#F5F5DC",
richred:"#8B0000",
brightyellow:"#FFFF00",
rust:"#B7410E",
poppyred:"#E53E3E",
cranberry:"#9E003A",
ivory:"#FFFFF0",
offwhite:"#F8F8F8",
magenta:"#FF00FF",
eggplant:"#614051",
cinnamon:"#A0522D",
deeppurple:"#301934",
bronze:"#CD7F32",
copper:"#B87333",
ochre:"#CC7722",
crispwhite:"#FFFFFF",
mutedredviolet:"#BB0A1E",
coralpink:"#F88379",
tomatored:"#FF6347",
truered:"#FF0000",
goldenyellow:"#FFD700",
warmteal:"#008080",
softpink:"#FFB6C1",
red:"#FF0000",
green:"#008000",
yellow:"#FFFF00",
chocolate:"#7B3F00",
caramel:"#FFD59A",
tan:"#D2B48C",
lightgray:"#D3D3D3",
deepred:"#8B0000",
softtealblue:"#669999",
pastelblue:"#AEC6CF",
darkbrown:"#654321",
warmpink:"#FF6F91",
richorange:"#FF8C00",
darkgray:"#A9A9A9",
greys:"#808080",
silver:"#C0C0C0",
burntorange:"#CC5500",
brickred:"#CB4154",
sunfloweryellow:"#FFDA03",
creamyoffwhite:"#FDFCF5",
icyblue:"#AFEEEE",
palepink:"#FADADD",
navy:"#000080",
cobalt:"#0047AB",
iceblue:"#AFEEEE",
teal:"#008080",
dustylavender:"#A899A5",
softrose:"#EEA4B3",
charcoal:"#36454F",
silver:"#C0C0C0",
coral:"#FF7F50",
camel:"#C19A6B",
emerald:"#50C878",
forestgreen:"#228B22",
olive:"#808000",
rust:"#B7410E",
burgundy:"#800020",
plum:"#8E4585",
mustard:"#FFDB58",
warmtaupe:"#D2B48C",
chocolatebrown:"#7B3F00",
ivory:"#FFFFF0",
mossgreen:"#8A9A5B",
bronze:"#CD7F32",
terracotta:"#E2725B",
deeppurple:"#301934",
amber:"#FFBF00",
softpeach:"#FFDAB9",
cognac:"#9A463D",
slategray:"#708090",
cream:"#FFFDD0",
gold:"#FFD700",
warmbeige:"#F5F5DC",
sage:"#B2AC88",
mutedteal:"#5F9E8F",
dustyrose:"#C08081",
tan:"#D2B48C",
softcoral:"#F88379",
richburgundy:"#70193D",
burntorange:"#CC5500",
deepplum:"#580F41",
warmcamel:"#C69C6D",
purewhite:"#FFFFFF",
dovegray:"#696969",
softblush:"#FFB6C1",
warmrust:"#A65E2E",
oxblood:"#4A0000",
antiquegold:"#CFB53B",
palelavender:"#E6E6FA",
steelblue:"#4682B4",
softlilac:"#B9AEDC",
slategreen:"#496F5D",
pewter:"#99AABB",
coolmint:"#98FF98",
black:"#000000",
softlavender:"#B57EDC",
white:"#FFFFFF",
steelgray:"#71797E",
warmcoral:"#FF6F61",
olivegreen:"#556B2F",

};
function hexToRgb(hex){
  const m = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return m ? {r:parseInt(m[1],16),g:parseInt(m[2],16),b:parseInt(m[3],16)} : null;
}
function dist(a,b){
  const x = hexToRgb(a), y = hexToRgb(b);
  if(!x||!y) return 1e9;
  return Math.sqrt(Math.pow(x.r-y.r,2)+Math.pow(x.g-y.g,2)+Math.pow(x.b-y.b,2));
}
function hexToName(hex){
  hex = hex.toLowerCase();
  if(microMap[hex]) return microMap[hex];
  let best = "", min = 1e9;
  for(const [name,rgb] of Object.entries(microMap)){
    const d = dist(hex,rgb);
    if(d<min){ min=d; best=name; }
  }
  return best.replace(/^\w/,c=>c.toUpperCase());
}
